> 目标：JS实现一个 Person 类，包含一些属性，和一些方法

## 第一版

```js
function Person(name, age) {
  let person = {};
  person.name = name;
  person.age = age;
  person.play = function() {
    console.log('play');
  }
  person.sleep = function() {
    console.log('sleep');
  }
  return person;
}
let aaron = Person('Aaron', 31);
let vera = Person('Vera', 28);
aaron.play();
vera.sleep();
```

不足之处：每次创建对象都重新创建方法



## 第二版

提取公共方法，在 `sharedMethods` 中单独管理，需要是引用获取

```js
const sharedMethods = {
  play: function() {
    console.log('play');
  },
  sleep: function() {
    console.log('sleep');
  }
}
function Person(name, age) {
  let person = {};
  person.name = name;
  person.age = age;
  person.play = sharedMethods.play;
  person.sleep = sharedMethods.sleep;
  
  return person;
}
let aaron = Person('Aaron', 31);
let vera = Person('Vera', 28);
aaron.play();
vera.sleep();
```

不足之处：`sharedMethods` 单独管理成本高，而且也没有解决方法多次创建的问题



## 第三版

```js
const sharedMethods = {
  play: function() {
    console.log('play');
  },
  sleep: function() {
    console.log('sleep');
  }
}
function Person(name, age) {
  let person = Object.create(sharedMethods);
  person.name = name;
  person.age = age;
  
  return person;
}
let aaron = Person('Aaron', 31);
let vera = Person('Vera', 28);
aaron.play();
vera.sleep();
```

这里 **Object.create** 帮助我们建立了一个指向 `sharedMethods` 的**代理**。`aaron` 对象上并没有 `play` 方法，但是通过这个代理，可以获取到。解决了方法复用的问题。

不足之处：未解决 `sharedMethods` 单独管理成本高



## 第四版

```js
function Person(name, age) {
  let person = Object.create(Person.prototype);
  person.name = name;
  person.age = age;
  
  return person;
}

Person.prototype.play = function() {
  console.log('play');
}
Person.prototype.sleep = function () {
  console.log('sleep');
}

let aaron = Person('Aaron', 31);
let vera = Person('Vera', 28);
aaron.play();
vera.sleep();
```

利用 `javascript` 提供的 `prototype` 属性，来保存这些公用方法。

>  定义： **prototype** 是所有js函数都有的一个属性，我们可以用它来在示例间共享方法

## 第五版

使用 `new` 关键字简化：

```js
function Person(name, age) {
  this.name = name;
  this.age = age;
}

Person.prototype.play = function() {
  console.log('play');
}
Person.prototype.sleep = function () {
  console.log('sleep');
}

let aaron = new Person('Aaron', 31);
let vera = new Person('Vera', 28);
aaron.play();
vera.sleep();
```

new 做了很多事情

```js
let this = Object.create(Person.prototype)
this.name = name;
this.age = age;
return this;
```



## 第六版

使用  `class` 实现

```js
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
  play() {
    console.log('play')
  }
  sleep() {
    console.log('sleep')
  }
}

let aaron = new Person('Aaron', 31);
let vera = new Person('Vera', 28);
aaron.play();
vera.sleep();
```


