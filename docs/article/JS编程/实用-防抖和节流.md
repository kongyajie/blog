# 防抖和节流

- 防抖：用户输入结束或暂停时，才会触发change事件

```js
function debounce(fn, delay = 500) {
    let timer = null
    
    return function() {
        if (timer) {
            clearTimeout(timer)
        }
        setTimeout(() => {
            fn.apply(this, arguments)
            timer = null
        }, delay)
    }
}

input1.addEventListener('keyup', debounce(() => {
    console.log(inpu1.value)
}), 600)
```

- 节流：无论拖拽速度多快，都会每隔100ms触发一次

```js
function throttle(fn, delay = 100) {
    let timer = null

    return function() {
        if (timer) {
            return
        }
        setTimeout(() => {
            fn.apply(this, arguments)
            timer = null
        }, delay)
    }
}
```

- 防抖策略是将 高频操作合并为一次执行，如果高频操作每次清空定时器，以最后一次操作为主。
- 节流策略是 将高频操作 按周期执行，一个timeout 周期内执行一次，如果第一个周期执行完，有新的操作进来进行另一个周期。

[CodePen](https://codepen.io/RealAaron/pen/JjdOxEz?editors=0010)